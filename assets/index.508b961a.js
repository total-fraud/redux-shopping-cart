import{u as e,a as t,c as a,b as n,C as r,R as l,L as c,B as m,S as s,d as o,e as i,f as u,P as d}from"./vendor.a541e141.js";const E=()=>e(),p=t;const _=a({name:"products",initialState:{items:{}},reducers:{receivedProducts(e,t){t.payload.forEach((t=>{e.items[t.id]=t}))}}}),{receivedProducts:v}=_.actions;var f=_.reducer;var h="_products_1ava0_1",b="_product_1ava0_1",C="_productFooter_1ava0_77",y="_toCart_1ava0_107";const k=a({name:"cart",initialState:{items:{}},reducers:{addToCart(e,t){const a=t.payload;e.items[a]?e.items[a]++:e.items[a]=1},removeFromCart(e,t){delete e.items[t.payload]},decreaseQuantity(e,t){const a=t.payload;e.items[a]>0&&e.items[a]--},increaseQuantity(e,t){const a=t.payload;e.items[a]++}}});function N(e){let t=0;for(let a in e.cart.items)t+=e.cart.items[a];return t}const g=n((e=>e.cart.items),(e=>e.products.items),((e,t)=>{let a=0;for(let n in e)a+=t[n].price*e[n];return a.toFixed(2)})),{addToCart:S,removeFromCart:L,decreaseQuantity:P,increaseQuantity:R}=k.actions;var $=k.reducer;function j(){const e=E();r.exports.useEffect((()=>{(async function(){return(await fetch("products.json")).json()})().then((t=>{e(v(t))}))}),[]);const t=p((e=>e.products.items));return l.createElement("main",{className:"page"},l.createElement("ul",{className:h},Object.values(t).map((t=>l.createElement("li",{key:t.id},l.createElement("article",{className:b},l.createElement("figure",null,l.createElement("img",{src:t.imageURL,alt:t.name})),l.createElement("h1",null,t.name),l.createElement("div",{className:C},l.createElement("p",null,"$",t.price),l.createElement("button",{className:y,onClick:()=>e(S(t.id))},"Add to Cart ðŸ›’"))))))))}var q="_link_b1e58_1",x="_text_b1e58_11";function Q(){const e=p(N);return l.createElement(c,{"data-testid":"CartLink",to:"/cart",className:q},l.createElement("span",{className:x},"ðŸ›’ ",e||"Cart"))}var F="_table_onvq6_1",T="_total_onvq6_39",B="_quantity_onvq6_47",O="_button_onvq6_55";function w(){const e=E(),t=p((e=>e.products.items)),a=p((e=>e.cart.items)),n=p(g);return l.createElement("main",{className:"page"},l.createElement("h1",null,"Shopping Cart"),l.createElement("table",{className:F},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Product"),l.createElement("th",null,"Quantity"),l.createElement("th",null,"Price"),l.createElement("th",null,"Remove"))),l.createElement("tbody",null,Object.entries(a).reverse().map((([n])=>l.createElement("tr",{key:n},l.createElement("td",null,t[n].name),l.createElement("td",{className:B},l.createElement("button",{onClick:t=>e(P(n)),"aria-label":`Remove ${t[n].name} from Shopping Cart`},"-"),a[n],l.createElement("button",{onClick:t=>e(R(n)),"aria-label":`Remove ${t[n].name} from Shopping Cart`},"+")),l.createElement("td",null,"$",t[n].price),l.createElement("td",null,l.createElement("button",{onClick:()=>e(L(n)),"aria-label":`Remove ${t[n].name} from Shopping Cart`},"X")))))),l.createElement("tfoot",null,l.createElement("tr",null,l.createElement("td",null,"Total"),l.createElement("td",null),l.createElement("td",{className:T},"$",n),l.createElement("td",null)))),l.createElement("form",null,l.createElement("button",{className:O,type:"submit"},"Checkout")))}var A={header:"_header_f360k_1",gradient:"_gradient_f360k_1",navLink:"_navLink_f360k_53"};function I(){return l.createElement(m,{basename:"/redux-shopping-cart"},l.createElement("div",{className:A.app},l.createElement("header",{className:A.header},l.createElement("nav",null,l.createElement(c,{className:A.navLink,to:"/"},"Products"),l.createElement(Q,null)))),l.createElement(s,null,l.createElement(o,{path:"/",exact:!0},l.createElement(j,null)),l.createElement(o,{path:"/cart"},l.createElement(w,null))))}const M=i({reducer:{products:f,cart:$}});u.render(l.createElement(l.StrictMode,null,l.createElement(d,{store:M},l.createElement(I,null))),document.getElementById("root"));
